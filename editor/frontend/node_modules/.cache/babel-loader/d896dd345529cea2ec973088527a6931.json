{"ast":null,"code":"import React from\"react\";import Header from\"../../components/Header/Header\";import StateCard from\"../../components/StateCard/StateCard\";import StateDetails from\"../../components/StateDetails/StateDetails\";import{useLocation}from\"react-router-dom\";import{useCallback,useEffect,useState}from\"react\";import\"./StatePage.css\";import{useQuery}from\"react-apollo-hooks\";import gql from\"graphql-tag\";const GET_VENUES=gql`\n  query GetVenues($region: String!) {\n    venues(region: $region) {\n      id\n      name\n      location\n      locality\n      postcode\n      region\n      closed\n      latitude\n      longitude\n    }\n  }\n`;function StatePage(){const location=useLocation();const[parks,setParks]=useState([]);const[currPark,setCurrPark]=useState([]);const[allParks,setAllParks]=useState([]);const stateCode=location.state.stateCode;const stateName=location.state.stateName;const{loading,error,data}=useQuery(GET_VENUES,{variables:{region:`${stateName}`}});if(loading)return/*#__PURE__*/React.createElement(\"p\",null,\"Loading...\");if(error)return/*#__PURE__*/React.createElement(\"p\",null,\"Error: \",error.message);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"state-page-container\"},/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"h1\",{className:\"state-name\"},location.state.stateCode===\"DC\"?\"Washington, D.C.\":location.state.stateName),/*#__PURE__*/React.createElement(\"div\",{className:\"sub-state-page-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"state-cards-container\"},data.length===0?/*#__PURE__*/React.createElement(\"h3\",{className:\"no-state\"},\"None of the current state's sites contain all of the selected amenities.\"):/*#__PURE__*/React.createElement(React.Fragment,null,data.venues.map(item=>{return/*#__PURE__*/React.createElement(StateCard,{park:item,setCurrPark:setCurrPark,key:item.id});}))),currPark.length===0?/*#__PURE__*/React.createElement(\"div\",{className:\"no-state-details\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Click on a Halal Spot to view its details!\")):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"state-details-container\"},/*#__PURE__*/React.createElement(StateDetails,{park:currPark}))))));}export default StatePage;","map":{"version":3,"names":["React","Header","StateCard","StateDetails","useLocation","useCallback","useEffect","useState","useQuery","gql","GET_VENUES","StatePage","location","parks","setParks","currPark","setCurrPark","allParks","setAllParks","stateCode","state","stateName","loading","error","data","variables","region","createElement","message","Fragment","className","length","venues","map","item","park","key","id"],"sources":["/Users/hummarabashir/Desktop/graphql-foursquare-api/graphql-halalspots-deployed/editor/frontend/src/pages/StatePage/StatePage.js"],"sourcesContent":["import React from \"react\";\n\nimport Header from \"../../components/Header/Header\";\nimport StateCard from \"../../components/StateCard/StateCard\";\nimport StateDetails from \"../../components/StateDetails/StateDetails\";\nimport { useLocation } from \"react-router-dom\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport \"./StatePage.css\";\nimport { useQuery } from \"react-apollo-hooks\";\nimport gql from \"graphql-tag\";\n\nconst GET_VENUES = gql`\n  query GetVenues($region: String!) {\n    venues(region: $region) {\n      id\n      name\n      location\n      locality\n      postcode\n      region\n      closed\n      latitude\n      longitude\n    }\n  }\n`;\n\nfunction StatePage() {\n  const location = useLocation();\n  const [parks, setParks] = useState([]);\n  const [currPark, setCurrPark] = useState([]);\n  const [allParks, setAllParks] = useState([]);\n  const stateCode = location.state.stateCode;\n  const stateName = location.state.stateName;\n  const { loading, error, data } = useQuery(GET_VENUES, {\n    variables: { region: `${stateName}` },\n  });\n\n  if (loading) return <p>Loading...</p>;\n  if (error) return <p>Error: {error.message}</p>;\n\n  return (\n    <>\n    <div className=\"state-page-container\">\n      <Header />\n      <h1 className=\"state-name\">\n        {location.state.stateCode === \"DC\"\n          ? \"Washington, D.C.\"\n          : location.state.stateName}\n      </h1>\n   \n      <div className=\"sub-state-page-container\">\n      <div className=\"state-cards-container\">\n        {data.length === 0 ? (\n          <h3 className=\"no-state\">\n            None of the current state's sites contain all of the selected\n            amenities.\n          </h3>\n        ) : (\n          <>\n            {data.venues.map((item) => {\n              return (\n                <StateCard\n                  park={item}\n                  setCurrPark={setCurrPark}\n                  key={item.id}\n                />\n              );\n            })}\n          </>\n        )}\n      </div>\n      {currPark.length === 0 ? (\n        <div className=\"no-state-details\">\n          <h3>Click on a Halal Spot to view its details!</h3>\n        </div>\n      ) : (\n        <>\n          <div className=\"state-details-container\">\n            <StateDetails park={currPark} />\n          </div>\n        </>\n      )}\n    </div>\n    </div>\n    </>\n  );\n}\n\nexport default StatePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}